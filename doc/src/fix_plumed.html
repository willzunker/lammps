<HTML>
<CENTER><A HREF = "http://lammps.sandia.gov">LAMMPS WWW Site</A> - <A HREF = "Manual.html">LAMMPS Documentation</A> - <A HREF = "Section_commands.html#comm">LAMMPS Commands</A> 
</CENTER>






<HR>

<H3>fix plumed command 
</H3>
<P><B>Syntax:</B>
</P>
<PRE>fix ID group-ID plumed keyword value ...
</PRE>
<UL><LI>ID, group-ID are documented in <A HREF = "fix.html">fix</A> command 

<LI>plumed = style name of this fix command 

<LI>keyword = <I>plumedfile</I> or <I>outfile</I>  

<PRE>  <I>plumedfile</I> arg = name of PLUMED input file to use
  <I>outfile </I> arg = name of file on which to write the PLUMED log
</PRE>

</UL>
<P><B>Examples:</B>
</P>
<PRE>
  fix pl all plumed all plumed plumedfile plumed.dat outfile p.log 
</PRE>
<P><B>Description:</B>
</P>
<P>
This fix instructs LAMMPS to call the PLUMED library, which allows one 
to perform various forms of trajectory analysis on the fly and to also use
methods such as umbrella sampling and metadynamics to enhance the sampling of 
phase space.
</P>
<P>The documentation included here only describes the fix plumed command.  This command
is LAMMPS specific whereas most of the functionality implemented in PLUMED will work with a 
range of MD codes and also when PLUMED is used as a stand alone code.  The full documentation 
for PLUMED is available at <A HREF="http://www.plumed.org/documentation">this website</A>
</P>
<P>The PLUMED library is developed at <A HREF = "https://github.com/plumed/plumed2">https://github.com/plumed/plumed2</A>
A detailed discussion of the code can be found in <A HREF = "#PLUMED">(PLUMED)</A>.
</P>
<P>There are some example scripts for using this package with LAMMPS in the
examples/USER/plumed directory.
</P>
<HR>

<P>The command to call PLUMED above is reasonably self explanatory.  Within the input file 
for lammps the user is required to specify the input file for PLUMED and a file on which 
to output the PLUMED log.  The user must specify both of these arguments every time 
PLUMED is to be used.  Furthermore, the fix plumed command should appear in the LAMMPS input
file after the relevant input paramters (e.g. the timestep) have been set.  
</P>
<P>The <I>group-ID</I> entry is ignored. LAMMPS will always pass all the atoms to PLUMED 
and there can only be one instance of the plumed fix at a time. The plumed fix communicates
the minimum amount of information required and the PLUMED supports multiple, completely 
independent collective variables, multiple independent biases and multiple independent forms of analysis.
There is thus really no restriction in functionality by only allowing only one plumed fix in the LAMMPS input.
</P>
<P>The <I>plumedfile</I> keyword allows the user to specify the name of the PLUMED input file.
Instructions as to what should be included in a plumed input file can be found in the 
<A HREF="http://www.plumed.org/documentation">documentation for PLUMED</A>.
</P>
<P>The <I>outfile</I> keyword allows the user to specify the name of a file on which to output
the PLUMED log.  This log file normally just parots the information that is contained in the input 
file.  The names of the files on which the results from the various analyses that have been performed 
using PLUMED will be specified by the user in the PLUMED input file. 
</P>
<P><B>Restart, fix_modify, output, run start/stop, minimize info:</B>
</P>
<P>
When performing a restart of a calculation that involves PLUMED you must include a RESTART command
in the PLUMED input file as detailed in the <A HREF="http://www.plumed.org/documentation">PLUMED documentation.</A>  When the restart 
command is found in the PLUMED input PLUMED will append to the files that were generated in the run
that was performed previously.  Furthermore, any history dependent bias potentials that were accumulated in 
previous calculations will be read in when the restart command is included in the PLUMED input. 
</P>
<P>The <A HREF = "fix_modify.html">fix_modify</A> <I>energy</I> option is not supported by this fix.  
</P>
<P>Nothing is computed by this fix that can be accessed by any of the 
<A HREF = "Section_howto.html#howto_15">output commands</A> within LAMMPS.  All the quantities
of interest can be output by commands that are native to PLUMED, however. 
</P>
<P><B>Restrictions:</B>
</P>
<P>This fix is part of the USER-PLUMED package.  It is only enabled if
LAMMPS was built with that package.  See the <A HREF = "Section_start.html#start_3">Making
LAMMPS</A> section for more info.
</P>
<P>There can only be one plumed fix active at a time. Since the interface
communicates only the minimum amount of information and since the PLUMED module
itself can handle an arbitrary number of analysis and biasing methods, this is
not a limitation of functionality.
</P>
<P><B>Related commands:</B>
</P>
<P><A HREF = "fix_smd.html">fix smd</A>
<P><A HREF = "fix_colvars.html">fix colvars</A>
</P>
<P><B>Default:</B>
</P>
<P>The default options are plumedfile = NULL and outfile = NULL  
</P>
<HR>

<A NAME = "PLUMED"></A>

<P><B>(PLUMED)</B> G.A. Tribello, M. Bonomi, D. Branduardi, C. Camilloni and G. Bussi, Comp. Phys. Comm 185, 604 (2014) DOI:https://doi.org/10.1016/j.cpc.2013.09.018
</P>
<!-- PAGE BREAK -->
</HTML>
