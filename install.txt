mkdir build
cd build
cmake -C ../cmake/presets/basic.cmake -D BUILD_SHARED_LIBS=on -D LAMMPS_EXCEPTIONS=on -D PKG_PYTHON=on -D PKG_ML-SNAP=on ../cmake
cmake --build .
sudo cmake --install .


cmake -C ../cmake/presets/minimal.cmake -D BUILD_SHARED_LIBS=on -D LAMMPS_EXCEPTIONS=on -D PKG_SNAP=on -DCMAKE_INSTALL_PREFIX=/usr/local ../cmake

cmake -C ../cmake/presets/minimal.cmake D CMAKE_C_COMPILER=gcc -D CMAKE_CXX_COMPILER=g++ -D -D BUILD_SHARED_LIBS=ON -D LAMMPS_EXCEPTIONS=ON -D PKG_SNAP=ON ../cmake

cmake -C ../cmake/presets/minimal.cmake D CMAKE_C_COMPILER=gcc -D CMAKE_CXX_COMPILER=g++ -D MDP_API=cpu -D CUDA_ARCH=sm_60 -D MDP_PREC=double  -D BUILD_SHARED_LIBS=ON -D LAMMPS_EXCEPTIONS=ON -D PKG_SNAP=ON -D PKG_USER-MDP=ON ../cmake

cmake -C ../cmake/presets/minimal.cmake D CMAKE_C_COMPILER=/usr/local/Cellar/llvm/11.1.0/bin/clang -D CMAKE_CXX_COMPILER=/usr/local/Cellar/llvm/11.1.0/bin/clang++ -D MDP_API=omp -D CUDA_ARCH=sm_60 -D MDP_PREC=double  -D BUILD_SHARED_LIBS=ON -D LAMMPS_EXCEPTIONS=ON -D PKG_SNAP=ON -D PKG_USER-MDP=ON ../cmake

cmake -C ../cmake/presets/minimal.cmake D CMAKE_C_COMPILER=gcc-10 -D CMAKE_CXX_COMPILER=g++-10 -D MDP_API=omp -D CUDA_ARCH=sm_60 -D MDP_PREC=double  -D BUILD_SHARED_LIBS=ON -D LAMMPS_EXCEPTIONS=ON -D PKG_SNAP=ON -D PKG_USER-MDP=ON ../cmake

mkdir build-gpu; cd build-gpu
module add cuda/11.3

cmake  -C ../cmake/presets/kokkos-cuda.cmake \
   -C ../cmake/presets/basic.cmake \
   -D BUILD_MPI=yes -D PKG_OPENMP=yes \
   -D Kokkos_ARCH_MAXWELL50=no -D Kokkos_ARCH_VOLTA72=yes \
   -D Kokkos_ENABLE_OPENMP=yes -D PKG_REAXFF=yes -D PKG_ML-SNAP=yes \
   -D PKG_GPU=yes -D GPU_API=CUDA -D GPU_ARCH=sm_70 -D Kokkos_ENABLE_CUDA=yes ../cmake

 ../../lammps/build-gpu/lmp -k on g 1 -sf kk -pk kokkos newton on neigh half

mpirun -np 1 /.../lmp_kokkos_cuda_mpi -k on g 1 -sf kk -pk kokkos newton on neigh half <SimScale.in




