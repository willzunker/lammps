"LAMMPS WWW Site"_lws - "LAMMPS Documentation"_ld - "LAMMPS Commands"_lc :c

:link(lws,http://lammps.sandia.gov)
:link(ld,Manual.html)
:link(lc,Section_commands.html#comm)

:line

compute mop command :h3

[Syntax:]

compute ID group-ID mop dir pos keyword ... :pre

ID, group-ID are documented in "compute"_compute.html command
mop = style name of this compute command
dir = {x} or {y} or {z} is the direction normal to the plane
pos = {lower} or {center} or {upper} or coordinate value (distance units) is the position of the plane
between one and three keywords can be appended
keyword = {kin} or {conf} or {total} :ul

[Examples:]
:link(mop-examples)

compute 1 all mop x lower total
compute 1 liquid mop z 0.0 kin conf
fix 1 all ave/time 10 1000 10000 c_1\[*\] file mop.time
fix 1 all ave/time 10 1000 10000 c_1\[2\] file mop.time :pre

[Description:]

Define a computation that calculates components of the local stress tensor using the method of planes "(Todd)"_#mop-todd. 
Specifically 3 components are computed in directions {dir},{x}; {dir},{y}; and {dir},{z}; where {dir} is the direction normal to the plane. 

Contrary to methods based on histograms of atomic stress (i.e. using "compute stress/atom"_compute_stress_atom.html), the method of planes is compatible with mechanical balance in heterogeneous systems and at interfaces "(Todd)"_#mop-todd. 

The stress tensor is the sum of a kinetic term and a configurational term, which are given respectively by Eq. (21) and Eq. (16) in "(Todd)"_#mop-todd. For the kinetic part, the algorithm considers that atoms have crossed the plane if their positions at times t-dt and t are one on either side of the plane, and uses the velocity at time t-dt/2 given by the velocity-Verlet algorithm. 

Between one and three keywords can be used to indicate which contributions to the stress must be computed: kinetic stress (kin), configurational stress (conf), and/or total stress (total). 

NOTE 1: The configurational stress is computed considering all pairs of atoms where at least one atom belongs to group group-ID. 

NOTE 2: The local stress does not include any Lennard-Jones tail
corrections to the pressure added by the "pair_modify tail
yes"_pair_modify.html command, since those are contributions to the global system pressure.

[Output info:]

This compute calculates a global vector (indices starting at 1), with 3 values for each declared keyword (in the order the keywords have been declared). For each keyword, the stress tensor components are ordered as follows: stress_dir,x, stress_dir,y, and stress_dir,z. 

The values are in pressure "units"_units.html. 

The values produced by this compute can be accessed by various "output commands"_Section_howto.html#howto_15. For instance, the results can be written to a file using the "fix ave/time"_fix_ave_time.html command, see "Examples"_#mop-examples above.

[Restrictions:] 

The method is only implemented for 3d orthogonal simulation boxes whose size does not change in time, and axis-aligned planes.  

The method only works with two-body pair interactions, because it requires the class method pair->single() to be implemented. In particular, it does not work with more than two-body pair interactions, intra-molecular interactions, and long range (kspace) interactions. 

[Related commands:]

"compute mop/profile"_compute_mop_profile.html, "compute stress/atom"_compute_stress_atom.html

[Default:] none

:line

:link(mop-todd)
[(Todd)] B. D. Todd, Denis J. Evans, and Peter J. Daivis: "Pressure tensor for inhomogeneous fluids", 
Phys. Rev. E 52, 1627 (1995).
